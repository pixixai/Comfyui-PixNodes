# ChatGLM4 翻译

## 1. 节点功能概览

`Pix_ChatGLM4Translate` 是 PixNodes 系列中基于大语言模型（LLM）的专业翻译节点。它调用了智谱 AI（Zhipu AI）的 GLM-4 接口，相比传统的机器翻译，它能更好地理解上下文语境、俚语和艺术修辞，非常适合用于 Stable Diffusion 等生成式 AI 的提示词（Prompt）翻译与润色。

**核心特性**：

- **LLM 级翻译质量**：基于 GLM-4 模型，翻译结果更自然，支持多语言互译。
- **凭据持久化**：API Key 填入后自动保存至 `user/PixNodes/api_key.json`，支持多节点共享。
- **安全保护**：当 API Key 失效或过期时，节点会自动清除本地错误缓存，并及时反馈错误状态。
- **低延迟**：默认支持 `glm-4-flash` 模型，提供极速的翻译体验。

## 2. 输入参数解释

| 参数名称 | 类型 | 建议值 | 描述 |
| --- | --- | --- | --- |
| **api_key** | STRING | (智谱 AI API Key) | 从智谱开放平台获取的密钥。填入一次后可留空。 |
| **model** | 菜单 | glm-4-flash | 选择使用的模型版本，`flash` 版性价比最高。 |
| **from_language** | 菜单 | 简体中文(zh-CN) | 原始文本的语言。 |
| **to_language** | 菜单 | 英文(en) | 目标翻译语言。 |
| **text** | STRING | (待翻译内容) | 支持多行文本，适合输入长段落或复杂的 Prompt。 |

## 3. 输出结果描述

| 索引 | 名称 | 类型 | 描述 |
| --- | --- | --- | --- |
| **0** | translated_text | STRING | 经过大模型翻译后的纯文本结果。 |

## 4. 典型工作流场景

- **复杂 Prompt 翻译**：针对包含大量艺术风格、灯光、材质描述的中文 Prompt，使用该节点可获得比百度翻译更符合 AI 绘图逻辑的英文表达。
- **文案风格转换**：由于是 LLM 翻译，你可以在文本中加入简单要求，如“请用电影化的语言翻译：...”，实现润色效果。
- **翻译套件集成**：可以与 `Pix_BaiduTranslate` 配合使用。例如：先用百度进行初步检测，再用 ChatGLM 进行精修翻译。

## 5. 注意事项

- 请确保你的智谱 AI 账号内有足够的 API 调用余额。
- 由于调用的是在线 API，处理速度取决于网络环境及模型响应时间（通常为 1-3 秒）。