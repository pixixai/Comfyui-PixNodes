# Image List to Batch (PixNodes)

此节点用于将多个图像（无论是单个张量还是图像列表）合并为一个标准化的图像批次（Image Batch）。它提供了强大的尺寸对齐功能，确保输出的批次具有统一的分辨率。

## 参数说明

### 输入 (Inputs)

- **image_list**: 图像输入插槽。支持连接多个图像或列表。
- **mode (模式)**:
    - `Fill` (默认): 图像完整填充满尺寸范围，超出部分会被裁切。
    - `Fit`: 图像在尺寸范围内全部显示，不被裁切，空白区域填充背景色。
    - `Stretch`: 图像被强制拉伸至目标尺寸。
- **alignment (中心点定位)**:
    - 决定图像在画布上的对齐位置（如：左上、中心、右下等）。在 `Fill` 模式下决定裁切起始点，在 `Fit` 模式下决定图像摆放位置。
- **size (尺寸)**:
    - 格式如 `1920x1080` 或 `512`（宽高相同）。
    - **默认值为空**：如果留空，则自动以输入列表中的**第一张图**的尺寸作为基准，将后续所有图片对齐到该尺寸。
- **background_color (背景颜色)**:
    - **可选输入**。如果未连接，默认为白色。
    - 用于 `Fit` 模式下的空白区域填充。
    - 支持多种格式输入：
        1. **Hex 字符串**: 如 `#FF0000` (红)。
        2. **RGB 字符串**: 如 `255,0,0` (红)。
        3. **十进制整数**: 如 `16711680` (红)。
        4. **RGB 数组 (Int)**: 如 `[255, 0, 0]` (红，数值范围 0-255)。
        5. **HSV 数组 (Float)**: 支持两种标准，**自动识别**：
            - **标准归一化**: `[0.5, 1.0, 1.0]` (H:0-1, S:0-1, V:0-1)
            - **设计软件标准**: `[227.68, 87.84, 100.0]` (H:0-360, S:0-100, V:0-100) —— 只要数值中任意一项大于 1.0，节点就会自动按此标准处理。

### 输出 (Outputs)

- **0 (image_batch)**: 合并并处理后的标准图像批次 Tensor `[B, H, W, C]`。

## 技术特性

- **HSV 色彩支持**: 支持直接输入 HSV 浮点数组，节点会自动进行 Gamma 安全的色彩空间转换，并智能兼容 0-1 和 360/100 两种数值范围。
- **智能列表处理**: 使用 `INPUT_IS_LIST` 机制，自动解包和规范化输入的图像列表。
- **自动维度对齐**: 自动处理 Mask (1通道) 和 RGBA (4通道) 输入，统一转换为 RGB (3通道)。