# Pix_QwenApiNode (通义千问助手) 节点说明

## 1. 节点功能概览

`Pix_QwenApiNode` 是 PixNodes 系列中集成阿里大模型“通义千问”的节点。该节点基于阿里云百炼（DashScope）平台，支持 Qwen 系列的全栈模型，包括旗舰级的 `qwen-max`、极速版的 `qwen-flash` 以及具备强大视觉解析能力的 `qwen-vl` 系列。

## 2. 输入参数解释

| 参数名称 | 类型 | 建议值 | 描述 |
| --- | --- | --- | --- |
| **api_key** | STRING | (阿里云百炼 API Key) | 填入后自动保存。支持阿里云百炼平台的最新 API 协议。 |
| **base_url** | STRING | (默认地址) | 通常无需修改。支持阿里云 API 兼容模式地址。 |
| **model** | 菜单 | qwen-max / qwen-plus / qwen-vl | `max` 为最强逻辑模型；`vl` 系列支持图像输入和 OCR 文字识别。 |
| **prompt** | STRING | (多行文本) | 用户指令。支持 ComfyUI 的动态提示词语法。 |
| **images** | IMAGE (输入) | (可选连接) | **视觉输入**：连接图像后，可配合 `qwen-vl` 系列模型实现图像问答。 |
| **input_file_text** | STRING (输入) | (可选连接) | 连接文本加载节点，将长文档作为背景知识输入。 |

## 3. 输出结果描述

| 索引 | 名称 | 类型 | 描述 |
| --- | --- | --- | --- |
| **0** | text_response | STRING | AI 的纯文本回复，对于 OCR 模型可输出识别出的结构化文字。 |
| **1** | history | STRING | 对话上下文的 JSON 序列。 |

## 4. 典型工作流场景

- **专业 OCR 识别**: 使用 `qwen-vl-ocr` 模型，对输入的图像（如截图、海报）进行精准的文字提取。
- **电商图像分析**: 输入产品图，让 `qwen-vl-max` 分析产品卖点并直接生成多语种的营销文案。
- **复杂逻辑流**: 利用 `qwen-max` 极强的逻辑推理能力，作为工作流的中央决策节点，对前面的计算结果进行综合评判。