# JSON键值拆分

**JSON KV Split** 是一个简单高效的解构工具，用于将 JSON 对象（字典）或列表（数组）拆分为“键”和“值”两个独立的列表。这在需要将数据分别传输给不同处理流程（如批量提示词生成）时非常有用。

## 功能说明

节点会自动识别输入数据的类型并采用不同的拆分策略：

1. **字典 (Dictionary)**:
    - **Keys**: 输出所有的键名（Keys）。
    - **Values**: 输出所有的值（Values）。
    - **顺序**: 严格保持 JSON 中的原始顺序。
2. **列表 (List)**:
    - **Keys**: 自动生成字符串索引列表（`"0"`, `"1"`, `"2"`...）。
    - **Values**: 输出列表中的元素。
3. **其他类型 (String/Number)**:
    - 被视为单元素列表处理。
    - **Keys**: `["0"]`
    - **Values**: `[原始数据]`

## 不同输入类型的处理表现

### 1. 对象输入 (Single Object)

- **输入**: `{"model": "sdxl", "seed": 123}`
- **Keys 输出**: `["model", "seed"]`
- **Values 输出**: `["sdxl", 123]`
- **用途**: 适合提取对象的属性列表用于菜单生成。

### 2. 列表输入 (Simple List)

- **输入**: `["a.png", "b.png", "c.png"]`
- **Keys 输出**: `["0", "1", "2"]`
- **Values 输出**: `["a.png", "b.png", "c.png"]`
- **用途**: 适合为列表项生成索引，或直接通过 Values 端口透传列表数据。

### 3. 混合输入 (List of Objects)

- **输入**: `[{"id": 1}, {"id": 2}]`
- **行为**: 节点将其视为**列表**进行顶层拆分。
- **Keys 输出**: `["0", "1"]`
- **Values 输出**: `[{"id": 1}, {"id": 2}]` (输出的是对象列表)
- **注意**: 如果你想提取内部对象的 `id` 值，请先使用 **JSON Mutation** 或其他工具将数据转换为纯值列表，再连接此节点；或者配合列表迭代器对 Values 进一步拆解。

## 输入参数

- **json_data** (`Any`)
    - 任意类型的输入数据。支持 JSON 字符串，节点会自动尝试解析。

## 输出参数

- **0: keys** (`LIST`)
    - 键名列表或索引列表。
- **1: values** (`LIST`)
    - 对应的值列表。
- **2: count** (`INT`)
    - 列表/字典中的元素总数。

## 典型应用

- **批量处理**: 将 `values` 连接到 `List Loop` 或其他迭代节点进行逐项处理。
- **动态菜单**: 提取 `keys` 用于生成动态的选择菜单。
- **数据计数**: 快速获取 JSON 列表的长度。