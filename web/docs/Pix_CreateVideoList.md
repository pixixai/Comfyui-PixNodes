# 创建视频列表

**Create Video List** 是一个用于批量管理视频素材的高效节点，位于 **PixNodes/video** 分类下。它提供了一个可视化的交互面板，允许用户在 ComfyUI 界面中上传、预览、排序视频文件。

该节点集成了 ComfyUI 最新的 `comfy_api` 标准，能够输出原生的 `VIDEO` 类型对象，完美支持官方的视频批处理机制。

## 功能特性

- **可视化管理**：提供网格（Grid）和列表（List）两种视图模式。
- **批量上传**：支持一次性选择并上传多个视频文件。
- **自由排序**：
    - 支持拖拽排序（插入到目标位置的前面或后面）。
    - 支持 `Ctrl` 多选和 `Shift` 连选，进行批量移动。
    - **所见即所得**：后端输出的视频顺序严格对应前端的排列顺序。
- **实时预览**：
    - **悬停播放**：鼠标悬停在视频上时自动播放预览。
    - **滑动预览 (Scrubbing)**：在视频上左右滑动鼠标，可快速定位预览视频内容。
    - **缩放滑块**：可通过滑块实时调整预览缩略图的大小。
- **原生 VIDEO 支持**：输出官方定义的 `VIDEO` 对象，直接支持 ComfyUI 的批处理机制。

## 输入参数 (Inputs)

| 参数名 | 类型 | 描述 |
|---|---|---|
| *video_data* | `STRING` | (自动隐藏) 这是一个由前端 UI 自动维护的参数，用于存储视频文件的元数据和排序信息。用户无需手动操作此输入。 |

## 输出 (Outputs)

| 索引 | 输出名 | 类型 | 描述 |
|---|---|---|---|
| **0** | **video_batch** | `VIDEO` (List) | **视频批次（自动循环）**。<br>输出一个包含多个 `VIDEO` 对象的列表。当连接到下游节点（如 `Get Video Components` 或 `Save Video`）时，ComfyUI 会自动触发**批处理循环**，依次处理列表中的每一个视频。<br>*(如果当前 ComfyUI 版本不支持 comfy_api，将回退为输出路径字符串列表)* |
| **1** | **video_paths_json** | `STRING` | **视频路径数据 (JSON)**。<br>输出一个包含所有视频绝对路径的 JSON 数组字符串（例如 `["E:/a.mp4", "E:/b.mp4"]`）。<br>与 `video_batch` 不同，**此输出不会被拆分**。无论批处理循环运行多少次，这个端口每次都会输出完整的列表数据，适合需要一次性获取所有文件信息的自定义节点使用。 |

## 使用技巧

1. **添加视频**：点击中间的 `+ Add Video` 按钮或右上角的 `+` 号。
2. **调整顺序**：选中一个或多个视频，按住鼠标左键拖拽到新位置。
3. **批量删除**：选中多个视频（按住 Ctrl/Shift）后，点击其中任意一个视频右上角的 `×` 号。
4. **工作流示例**：
    - **自动批处理**：`Pix_CreateVideoList` (video_batch) -> `Get Video Components` -> `VAE Encode` -> ... (自动处理所有视频)
    - **自定义处理**：`Pix_CreateVideoList` (video_paths_json) -> `Show Text` (查看所有路径)

*PixNodes - Create Video List*